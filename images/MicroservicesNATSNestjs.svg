<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2251px" height="971px" viewBox="-0.5 -0.5 2251 971" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2022-02-28T11:38:51.547Z&quot; agent=&quot;5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36&quot; etag=&quot;1pjXhlQsSJ7Fp2YJisWH&quot; version=&quot;16.6.4&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;IhnmLe_JUiBMFgX09dLQ&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="0" y="260" width="540" height="410" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="200" y="280" width="140" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 290px; margin-left: 270px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 16px">API Gateway App</font></div></div></div></foreignObject><text x="270" y="294" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">API Gateway App</text></switch></g><path d="M 160 420 L 170.04 420 L 170.04 553.6 L 182.99 553.6" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 188.24 553.6 L 181.24 557.1 L 182.99 553.6 L 181.24 550.1 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="10" y="350" width="150" height="140" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 420px; margin-left: 12px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><font style="font-size: 10px">AppModule</font></div><div style="font-size: 8px"><div>imports: [</div><div>    ClientsModule.register([</div><div>      {</div><div>        name: 'BILLING_SERVICE',</div><div>        transport: Transport.NATS,</div><div>        options: {</div><div>          servers: ['nats://localhost:4222'],</div><div>          queue: 'billing-queue'</div><div>        }</div><div>      }</div><div>    ])</div><div>  ]</div></div></div></div></div></foreignObject><text x="12" y="422" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppModule...</text></switch></g><path d="M 350 435 L 350 483.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350 488.88 L 346.5 481.88 L 350 483.63 L 353.5 481.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 444.04 318.63 L 444.04 280 L 444.46 123" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 444.04 323.88 L 440.54 316.88 L 444.04 318.63 L 447.54 316.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="220" y="325" width="260" height="110" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 380px; margin-left: 222px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><span style="font-size: 10px">AppController</span><span><br /></span></div><div><span>@Controller()</span><br /></div><div>export class AppController {</div><div>  constructor(private readonly appService: AppService) {}</div><div><br /></div><div>  @Post()</div><div>  createOrder(@Body() createOrderRequest: CreateOrderRequest){</div><div>    this.appService.createOrder(createOrderRequest);</div><div>  }</div><div>}</div></div></div></div></foreignObject><text x="222" y="382" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppController...</text></switch></g><path d="M 350.04 815 L 350.04 851.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350.04 856.88 L 346.54 849.88 L 350.04 851.63 L 353.54 849.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="190" y="490" width="320" height="120" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 550px; margin-left: 192px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><span style="font-size: 10px">AppService</span></div><div><div><span>@Injectable()</span></div><div><span>export class AppService {</span></div><div><span>  constructor(</span></div><div><span>    @Inject('BILLING_SERVICE') private readonly billingClient: ClientNats</span></div><div><span>  ) {}</span></div><div><span><br /></span></div><div><span>  createOrder({userId, price}: CreateOrderRequest) {</span></div><div><span>    this.billingClient.emit('order_created', new OrderCreatedEvent('123', userId, price))</span></div><div><span>  }</span></div><div><span>}</span></div></div></div></div></div></foreignObject><text x="192" y="552" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppService...</text></switch></g><rect x="0" y="860" width="2140" height="110" rx="16.5" ry="16.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 2138px; height: 1px; padding-top: 915px; margin-left: 1px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 28px">NATS</font></div></div></div></foreignObject><text x="1070" y="917" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px" text-anchor="middle">NATS</text></switch></g><rect x="600" y="260" width="830" height="470" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="935" y="280" width="160" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 290px; margin-left: 1015px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 16px">Billing Microservices</font></div></div></div></foreignObject><text x="1015" y="294" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Billing Microservices</text></switch></g><rect x="10" y="550" width="150" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 580px; margin-left: 12px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><font style="font-size: 10px">Application Type</font></div><div style="font-size: 8px"><font style="font-size: 8px"><br /></font></div><div style="font-size: 8px"><font style="font-size: 8px">const app = </font></div><div style="font-size: 8px"><font style="font-size: 8px">await NestFactory.create(AppModule);</font></div><div style="font-size: 8px"><font style="font-size: 8px">await app.listen(3000);</font></div></div></div></div></foreignObject><text x="12" y="582" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">Application Type...</text></switch></g><rect x="620" y="530" width="280" height="140" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 600px; margin-left: 622px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><font style="font-size: 10px">Application Type</font></div><div style="font-size: 8px"><font style="font-size: 8px"><br /></font></div><div><div>const app = await NestFactory.createMicroservice&lt;MicroserviceOptions&gt;(</div><div>    AppModule,</div><div>    {</div><div>      transport: Transport.NATS,</div><div>      options: {</div><div>        servers: ['nats://localhost:4222'],</div><div>        queue: 'billing-queue',</div><div>      },</div><div>    },</div><div>  );</div><div>  app.listen();</div></div></div></div></div></foreignObject><text x="622" y="602" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">Application Type...</text></switch></g><path d="M 1121.88 480.47 L 1121.88 512.48 L 1122 549.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1121.88 475.22 L 1125.38 482.22 L 1121.88 480.47 L 1118.38 482.22 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 1479.17 815.3 L 1479.24 810 L 1479.9 853.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1479.98 858.88 L 1476.38 851.94 L 1479.9 853.63 L 1483.38 851.83 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="930" y="325" width="390" height="150" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 400px; margin-left: 932px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><span style="font-size: 10px">AppService</span></div><div><span><div>@Injectable()</div><div>export class AppService {</div><div><div>constructor(</div><div>    @Inject('AUTH_SERVICE') private readonly authClient: ClientNats,</div><div>  ) {}</div><div><br /></div><div>  handleOrderCreated(orderCreatedEvent :OrderCreatedEvent) {</div><div>    this.authClient.send('get_user', new GetUserRequest(orderCreatedEvent.userId)).subscribe((user) =&gt; {</div><div>      console.log(`Billing user with stripe ID ${user.stripeUserId} a price of $${orderCreatedEvent.price}...`);</div><div>    });</div><div>  }</div></div><div>}</div><div><br /></div></span></div></div></div></div></foreignObject><text x="932" y="402" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppService...</text></switch></g><rect x="1037" y="550" width="200" height="120" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 610px; margin-left: 1039px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><span style="font-size: 10px">AppController</span><span><br /></span></div><div><div>@Controller()</div><div>export class AppController {</div><div><br /></div><div>  @EventPattern('order_created')</div><div>  handleOrderCreated(data: any) {</div><div>    this.appService.handleOrderCreated(data.value);</div><div>  }</div><div><br /></div><div>}</div></div><div><br /></div></div></div></div></foreignObject><text x="1039" y="612" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppController...</text></switch></g><path d="M 770 400 L 923.63 400" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 928.88 400 L 921.88 403.5 L 923.63 400 L 921.88 396.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="620" y="330" width="150" height="140" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 400px; margin-left: 622px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><font style="font-size: 10px">AppModule</font></div><div style="font-size: 8px"><div>imports: [</div><div>    ClientsModule.register([</div><div>      {</div><div>        name: 'AUTH_SERVICE',</div><div>        transport: Transport.NATS,</div><div>        options: {</div><div>          servers: ['nats://localhost:4222'],</div><div>          queue: 'auth-queue'</div><div>        }</div><div>      }</div><div>    ])</div><div>  ]</div></div></div></div></div></foreignObject><text x="622" y="402" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppModule...</text></switch></g><path d="M 1215.52 858.35 L 1213.47 676.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1213.41 671.12 L 1216.99 678.08 L 1213.47 676.37 L 1209.99 678.16 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1120" y="755" width="300" height="60" fill="#bac8d3" stroke="#23445d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 785px; margin-left: 1270px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: left ; font-size: 10px"><span style="font-size: 10px">Consume</span></div><span style="font-size: 10px">subject: order_created<br style="font-size: 10px" /></span><pre class="message-body" style="box-sizing: border-box ; font-size: 10px ; margin-top: 0px ; margin-bottom: 1rem ; overflow: auto ; color: rgb(255 , 255 , 255) ; text-align: left ; background-color: rgb(34 , 34 , 34)">{"orderId":"123","userId":"345","price":12.323}</pre></div></div></div></foreignObject><text x="1270" y="788" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px" text-anchor="middle">Consumesubject: order_created...</text></switch></g><path d="M 1091.4 860.99 L 1090.05 677.69" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1090.01 672.44 L 1093.56 679.41 L 1090.05 677.69 L 1086.56 679.46 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="830" y="755" width="270" height="60" fill="#bac8d3" stroke="#23445d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 785px; margin-left: 965px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="font-size: 10px"><span style="font-size: 10px">Consume</span></div><span style="font-size: 10px">subject: get_user.replay<br style="font-size: 10px" /></span><pre class="message-body" style="box-sizing: border-box ; font-size: 10px ; margin-top: 0px ; margin-bottom: 1rem ; overflow: auto ; color: rgb(255 , 255 , 255) ; background-color: rgb(34 , 34 , 34)">{"userId":"345","stripeUserId":"34523423"}</pre></div></div></div></foreignObject><text x="965" y="788" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px" text-anchor="middle">Consumesubject: get_user.replay...</text></switch></g><rect x="380" y="0" width="110" height="120" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 60px; margin-left: 435px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 28px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 14px">Post Request<br /></font><div style="background-color: rgb(255 , 255 , 254) ; line-height: 18px ; font-size: 14px"><div style="text-align: left"><font style="font-size: 14px">{</font></div><div style="text-align: left"><font style="font-size: 14px">    <span style="color: #a31515">"userId"</span>: <span style="color: #0451a5">"345"</span>,</font></div><div style="text-align: left"><font style="font-size: 14px">    <span style="color: #a31515">"price"</span>: <span style="color: #098658">12.323</span></font></div><div style="text-align: left"><font style="font-size: 14px">}   </font></div></div></div></div></div></foreignObject><text x="435" y="68" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="28px" text-anchor="middle">Post Req...</text></switch></g><rect x="360" y="180" width="170" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 190px; margin-left: 445px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">POST <span style="color: rgb(33 , 33 , 33) ; font-family: &quot;inter&quot; , , , &quot;blinkmacsystemfont&quot; , &quot;segoe ui&quot; , &quot;roboto&quot; , &quot;oxygen&quot; , &quot;ubuntu&quot; , &quot;cantarell&quot; , &quot;fira sans&quot; , &quot;droid sans&quot; , &quot;helvetica&quot; , &quot;arial&quot; , sans-serif ; font-size: 12px ; text-align: left ; background-color: rgb(255 , 255 , 255)">http://localhost:3000/</span></div></div></div></foreignObject><text x="445" y="194" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="14px" text-anchor="middle">POST http://localhost:30...</text></switch></g><rect x="200" y="755" width="300" height="60" fill="#60a917" stroke="#2d7600" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 785px; margin-left: 350px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: left ; font-size: 10px"><span style="font-size: 10px">Produce</span></div><span style="font-size: 10px">topic: order_created<br style="font-size: 10px" /></span><pre class="message-body" style="box-sizing: border-box ; font-size: 10px ; margin-top: 0px ; margin-bottom: 1rem ; overflow: auto ; color: rgb(255 , 255 , 255) ; text-align: left ; background-color: rgb(34 , 34 , 34)">{"orderId":"123","userId":"345","price":12.323}</pre></div></div></div></foreignObject><text x="350" y="788" fill="#ffffff" font-family="Helvetica" font-size="10px" text-anchor="middle">Producetopic: order_created...</text></switch></g><path d="M 350 610 L 350 755" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><rect x="1530" y="260" width="550" height="470" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="1725" y="285" width="150" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 295px; margin-left: 1800px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 16px">Auth Microservices</font></div></div></div></foreignObject><text x="1800" y="299" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Auth Microservices</text></switch></g><rect x="1550" y="380" width="70" height="30" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 395px; margin-left: 1552px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><font style="font-size: 10px">AppModule</font></div><div style="font-size: 8px">imports: [<span> ]</span></div></div></div></div></foreignObject><text x="1552" y="397" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppModule...</text></switch></g><path d="M 1920.04 510 L 1920.04 570 L 1920.04 583.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1920.04 588.88 L 1916.54 581.88 L 1920.04 583.63 L 1923.54 581.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1780" y="310" width="280" height="200" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 410px; margin-left: 1782px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><span style="font-size: 10px">AppService</span></div><div><span><div>@Injectable()</div><div>export class AppService {</div><div>  private readonly users: any[] = [</div><div>    {</div><div>      userId: '123',</div><div>      stripeUserId: '982341',</div><div>    },</div><div>    {</div><div>      userId: '345',</div><div>      stripeUserId: '34523423',</div><div>    },</div><div>  ]</div><div><br /></div><div>  getUser(getUserRequest: GetUserRequest) {</div><div>    return this.users.find((user) =&gt; user.userId === getUserRequest.userId);</div><div>  }</div><div>}</div><div><br /></div></span></div></div></div></div></foreignObject><text x="1782" y="412" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppService...</text></switch></g><path d="M 1990.04 590 L 1990.04 570 L 1990.04 516.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1990.04 511.12 L 1993.54 518.12 L 1990.04 516.37 L 1986.54 518.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 2040.04 710 L 2040.04 852.67" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2040.04 857.92 L 2036.54 850.92 L 2040.04 852.67 L 2043.54 850.92 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1840" y="590" width="220" height="120" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 650px; margin-left: 1842px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><span style="font-size: 10px">AppController</span><span><br /></span></div><div><div>@Controller()</div><div>export class AppController {</div><div>  constructor(private readonly appService: AppService) {}</div><div><br /></div><div>  @EventPattern('get_user')</div><div>  getUser(data: any) {</div><div>    return this.appService.getUser(data);</div><div>  }</div><div>}</div></div><div><br /></div></div></div></div></foreignObject><text x="1842" y="652" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">AppController...</text></switch></g><rect x="1540" y="550" width="280" height="140" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 620px; margin-left: 1542px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 8px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><font style="font-size: 10px">Application Type</font></div><div style="font-size: 8px"><font style="font-size: 8px"><br /></font></div><div><div>const app = await NestFactory.createMicroservice&lt;MicroserviceOptions&gt;(</div><div>    AppModule,</div><div>    {</div><div>      transport: Transport.NATS,</div><div>      options: {</div><div>        servers: ['nats://localhost:4222'],</div><div>        queue: 'auth-queue',</div><div>      },</div><div>    },</div><div>  );</div><div>  app.listen();</div></div></div></div></div></foreignObject><text x="1542" y="622" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="8px">Application Type...</text></switch></g><path d="M 1919.72 860 L 1919.03 716.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1919.01 711.12 L 1922.54 718.1 L 1919.03 716.37 L 1915.54 718.13 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="1863" y="755" width="110" height="60" fill="#bac8d3" stroke="#23445d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 785px; margin-left: 1918px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="font-size: 10px"><span style="font-size: 10px">Consume</span></div><span style="font-size: 10px">subject: get_user<br style="font-size: 10px" /></span><pre class="message-body" style="box-sizing: border-box ; font-size: 10px ; margin-top: 0px ; margin-bottom: 1rem ; overflow: auto ; color: rgb(255 , 255 , 255) ; background-color: rgb(34 , 34 , 34)">{"userId":"345"}</pre></div></div></div></foreignObject><text x="1918" y="788" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px" text-anchor="middle">Consumesubject: get_us...</text></switch></g><rect x="1430" y="755" width="110" height="60" fill="#60a917" stroke="#2d7600" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 785px; margin-left: 1485px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="font-size: 10px"><span style="font-size: 10px">Produce</span></div><span style="font-size: 10px">subject: get_user<br style="font-size: 10px" /></span><pre class="message-body" style="box-sizing: border-box ; font-size: 10px ; margin-top: 0px ; margin-bottom: 1rem ; overflow: auto ; background-color: rgb(34 , 34 , 34)">{"userId":"345"}</pre></div></div></div></foreignObject><text x="1485" y="788" fill="#ffffff" font-family="Helvetica" font-size="10px" text-anchor="middle">Producesubject: get_us...</text></switch></g><path d="M 1320 400 L 1485 400 L 1485 755" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><rect x="1980" y="755" width="270" height="60" fill="#60a917" stroke="#2d7600" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 785px; margin-left: 2115px;"><div data-drawio-colors="color: #ffffff; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="font-size: 10px"><span style="font-size: 10px">Produce</span></div><span style="font-size: 10px">subject: get_user.replay<br style="font-size: 10px" /></span><pre class="message-body" style="box-sizing: border-box ; font-size: 10px ; margin-top: 0px ; margin-bottom: 1rem ; overflow: auto ; background-color: rgb(34 , 34 , 34)">{"userId":"345","stripeUserId":"34523423"}</pre></div></div></div></foreignObject><text x="2115" y="788" fill="#ffffff" font-family="Helvetica" font-size="10px" text-anchor="middle">Producesubject: get_user.replay...</text></switch></g><rect x="360" y="820" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 830px; margin-left: 390px;"><div data-drawio-colors="color: #FF1F1F; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 31, 31); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style="font-size: 16px">Step 1</font></div></div></div></foreignObject><text x="390" y="833" fill="#FF1F1F" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Step 1</text></switch></g><rect x="1227" y="820" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 830px; margin-left: 1257px;"><div data-drawio-colors="color: #FF1F1F; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 31, 31); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style="font-size: 16px">Step 2</font></div></div></div></foreignObject><text x="1257" y="833" fill="#FF1F1F" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Step 2</text></switch></g><rect x="1410" y="820" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 830px; margin-left: 1440px;"><div data-drawio-colors="color: #FF1F1F; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 31, 31); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style="font-size: 16px">Step 3</font></div></div></div></foreignObject><text x="1440" y="833" fill="#FF1F1F" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Step 3</text></switch></g><rect x="1840" y="820" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 830px; margin-left: 1870px;"><div data-drawio-colors="color: #FF1F1F; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 31, 31); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style="font-size: 16px">Step 4</font></div></div></div></foreignObject><text x="1870" y="833" fill="#FF1F1F" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Step 4</text></switch></g><rect x="2050" y="820" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 830px; margin-left: 2080px;"><div data-drawio-colors="color: #FF1F1F; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 31, 31); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style="font-size: 16px">Step 5</font></div></div></div></foreignObject><text x="2080" y="833" fill="#FF1F1F" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Step 5</text></switch></g><rect x="1020" y="820" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 830px; margin-left: 1050px;"><div data-drawio-colors="color: #FF1F1F; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 31, 31); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap;"><font style="font-size: 16px">Step 6</font></div></div></div></foreignObject><text x="1050" y="833" fill="#FF1F1F" font-family="Helvetica" font-size="10px" text-anchor="middle" font-weight="bold">Step 6</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>